---
layout: posts
title: "Bazel 3.2"
authors:
  - philwo
---

[Bazel 3.2](https://github.com/bazelbuild/bazel/releases/tag/3.2.0) has just been released.

## Incompatible changes

Bazel 3.2 is not a major release. As such, updating from Bazel 3.1 is expected to be straightforward.

* The following flags were renamed, removed or replaced:
  `--experimental_slim_json_profile` was renamed to [`--slim_profile`](https://docs.bazel.build/versions/3.2.0/command-line-reference.html#flag--slim_profile).


## Starlark

* Action objects created by `ctx.attr.write` now expose their `content` for inspection (in analysis-time tests) even when generated by an `Args` object.
* Starlark rules can now [read](https://docs.bazel.build/versions/3.2.0/skylark/lib/ctx.html#split_attr) attributes that apply Starlark [split transitions](https://docs.bazel.build/versions/3.2.0/skylark/config.html#defining-12-transitions).
* Starlark rules can now create symlinks using [`ctx.actions.symlink`](https://docs.bazel.build/versions/3.2.0/skylark/lib/actions.html#symlink).


## aquery

* Added `aquery_differ_v2` that works with the new aquery proto output format.


## C++

* Restore case-sensitivity to `-I` and `/I` include scanning detection to avoid conflicts.
* Improve include scanner support for `cl.exe` and `clang-cl` command lines.


## Other changes

* Add new flag `--experimental_no_product_name_out_symlink`. When enabled, the `bazel-out` symlink won’t be created if a different name is given to `--symlink_prefix`.
* Bazel can now recursively delete non-executable but readable directories.


This release contains contributions from many people at Google, as well as Alessandro Patti, Antoine Eiche,
Beebs, Brian Silverman, George Gensure, Gerhard Pretorius, Gibson Fahnestock, Greg, Gregor Jasny, Gustav Westling,
Jin, Jonathan Gerrish, Josh Smith, Justin Y Wei, Laurent Le Brun, Links, László Csomor, Matt Mackay, Moritz Kröger,
Ryan Beasley, Siddhartha Bagaria, Yannic Bonenberger, Zhongpeng Lin, hannometer, liubang.
